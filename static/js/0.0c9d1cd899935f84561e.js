webpackJsonp([0],{"0ygB":function(e,t,o){"use strict";function n(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function r(e){return"string"!=typeof e&&(e=String(e)),e}function a(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return y.iterable&&(t[Symbol.iterator]=function(){return t}),t}function i(e){this.map={},e instanceof i?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function s(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function c(e){return new Promise(function(t,o){e.onload=function(){t(e.result)},e.onerror=function(){o(e.error)}})}function l(e){var t=new FileReader,o=c(t);return t.readAsArrayBuffer(e),o}function u(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function d(){return this.bodyUsed=!1,this._initBody=function(e){this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:y.blob&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:y.formData&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:y.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():y.arrayBuffer&&y.blob&&function(e){return e&&DataView.prototype.isPrototypeOf(e)}(e)?(this._bodyArrayBuffer=u(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):y.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(e)||b(e))?this._bodyArrayBuffer=u(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):y.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},y.blob&&(this.blob=function(){var e=s(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?s(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(l)}),this.text=function(){var e=s(this);if(e)return e;if(this._bodyBlob)return function(e){var t=new FileReader,o=c(t);return t.readAsText(e),o}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),o=new Array(t.length),n=0;n<t.length;n++)o[n]=String.fromCharCode(t[n]);return o.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},y.formData&&(this.formData=function(){return this.text().then(p)}),this.json=function(){return this.text().then(JSON.parse)},this}function f(e,t){var o=(t=t||{}).body;if(e instanceof f){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new i(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,o||null==e._bodyInit||(o=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new i(t.headers)),this.method=function(e){var t=e.toUpperCase();return g.indexOf(t)>-1?t:e}(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&o)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(o)}function p(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var o=e.split("="),n=o.shift().replace(/\+/g," "),r=o.join("=").replace(/\+/g," ");t.append(decodeURIComponent(n),decodeURIComponent(r))}}),t}function h(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new i(t.headers),this.url=t.url||"",this._initBody(e)}function m(e,t){return new Promise(function(o,n){function r(){s.abort()}var a=new f(e,t);if(a.signal&&a.signal.aborted)return n(new _("Aborted","AbortError"));var s=new XMLHttpRequest;s.onload=function(){var e={status:s.status,statusText:s.statusText,headers:function(e){var t=new i;return e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(e){var o=e.split(":"),n=o.shift().trim();if(n){var r=o.join(":").trim();t.append(n,r)}}),t}(s.getAllResponseHeaders()||"")};e.url="responseURL"in s?s.responseURL:e.headers.get("X-Request-URL");var t="response"in s?s.response:s.responseText;o(new h(t,e))},s.onerror=function(){n(new TypeError("Network request failed"))},s.ontimeout=function(){n(new TypeError("Network request failed"))},s.onabort=function(){n(new _("Aborted","AbortError"))},s.open(a.method,a.url,!0),"include"===a.credentials?s.withCredentials=!0:"omit"===a.credentials&&(s.withCredentials=!1),"responseType"in s&&y.blob&&(s.responseType="blob"),a.headers.forEach(function(e,t){s.setRequestHeader(t,e)}),a.signal&&(a.signal.addEventListener("abort",r),s.onreadystatechange=function(){4===s.readyState&&a.signal.removeEventListener("abort",r)}),s.send(void 0===a._bodyInit?null:a._bodyInit)})}var y={searchParams:"URLSearchParams"in self,iterable:"Symbol"in self&&"iterator"in Symbol,blob:"FileReader"in self&&"Blob"in self&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in self,arrayBuffer:"ArrayBuffer"in self};if(y.arrayBuffer)var v=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],b=ArrayBuffer.isView||function(e){return e&&v.indexOf(Object.prototype.toString.call(e))>-1};i.prototype.append=function(e,t){e=n(e),t=r(t);var o=this.map[e];this.map[e]=o?o+", "+t:t},i.prototype.delete=function(e){delete this.map[n(e)]},i.prototype.get=function(e){return e=n(e),this.has(e)?this.map[e]:null},i.prototype.has=function(e){return this.map.hasOwnProperty(n(e))},i.prototype.set=function(e,t){this.map[n(e)]=r(t)},i.prototype.forEach=function(e,t){for(var o in this.map)this.map.hasOwnProperty(o)&&e.call(t,this.map[o],o,this)},i.prototype.keys=function(){var e=[];return this.forEach(function(t,o){e.push(o)}),a(e)},i.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),a(e)},i.prototype.entries=function(){var e=[];return this.forEach(function(t,o){e.push([o,t])}),a(e)},y.iterable&&(i.prototype[Symbol.iterator]=i.prototype.entries);var g=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];f.prototype.clone=function(){return new f(this,{body:this._bodyInit})},d.call(f.prototype),d.call(h.prototype),h.prototype.clone=function(){return new h(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new i(this.headers),url:this.url})},h.error=function(){var e=new h(null,{status:0,statusText:""});return e.type="error",e};var w=[301,302,303,307,308];h.redirect=function(e,t){if(-1===w.indexOf(t))throw new RangeError("Invalid status code");return new h(null,{status:t,headers:{location:e}})};var _=self.DOMException;try{new _}catch(e){(_=function(e,t){this.message=e,this.name=t;var o=Error(e);this.stack=o.stack}).prototype=Object.create(Error.prototype),_.prototype.constructor=_}m.polyfill=!0,self.fetch||(self.fetch=m,self.Headers=i,self.Request=f,self.Response=h);var N={local:{ios:{closeWindow:"1.3.9",qrScan:"1.3.9",shareConfig:"1.3.10",callShare:"2.0.3",choosePay:"1.3.9",rotate:"2.0.3",getDeviceInfo:"2.0.3",getSysLanguage:"2.0.3",callAuth:"2.0.0",callContract:"2.0.0"},android:{closeWindow:"1.3.11",qrScan:"1.3.11",shareConfig:"1.3.15",callShare:"2.0.3",choosePay:"1.3.11",rotate:"2.0.3",getDeviceInfo:"2.0.3",getSysLanguage:"2.0.3",callAuth:"2.0.0",callContract:"2.0.0"}},global:{ios:{closeWindow:"2.0.0",qrScan:"2.0.0",shareConfig:"2.0.0",callShare:"2.0.0",choosePay:"2.0.0",rotate:"2.0.0",getDeviceInfo:"2.0.0",getSysLanguage:"2.0.0",callAuth:"2.0.0",callContract:"2.0.0"},android:{closeWindow:"2.0.0",qrScan:"2.0.0",shareConfig:"2.0.0",callShare:"2.0.0",choosePay:"2.0.0",rotate:"2.0.0",getDeviceInfo:"2.0.0",getSysLanguage:"2.0.0",callAuth:"2.0.0",callContract:"2.0.0"}}},O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S={},P=0,T=!0;window.formatJSON=function(e){for(var t={},o=e.split("&"),n=0;n<o.length;n++){var r=o[n].split("=");r[1]=decodeURIComponent(r[1]),r[1].split("{").length>1&&r[1].split("}").length>1&&(r[1]=JSON.parse(r[1])),t[r[0]]=r[1]}return t};var I=window.nativeCallback||function(){};window.nativeCallback=function(e){var t=Array.prototype.slice.call(arguments,1);"function"==typeof S[e]&&S[e].apply(this,t),I.apply(void 0,arguments)};var C={callBridge:function(e,t,o,n){var r=P++,a="";for(var i in S[r]=function(){if("function"==typeof n&&n.apply(this,arguments),S[r])try{delete S[r]}catch(e){S[r]=null}},"object"!==(void 0===o?"undefined":O(o))&&(o={}),o._mId=r,o)a+=T?(-1!=a.indexOf("=")?"&":"")+encodeURIComponent(i)+"="+encodeURIComponent(o[i]):(-1!=a.indexOf("=")?"&":"")+i+"="+encodeURI(o[i]);var s,c=e+"://"+t+"?"+a;(s=document.createElement("iframe")).setAttribute("src",c),s.setAttribute("style","display:none;"),s.setAttribute("height","0px"),s.setAttribute("width","0px"),s.setAttribute("frameborder","0"),document.body.appendChild(s),s.parentNode.removeChild(s),s=null},callNative:function(e,t,o){this.callBridge("native",e,t,o)},compareVersion:function(e,t){var o=e.split("."),n=t.split(".");return 1e6*o[0]+1e3*o[1]+parseInt(o[2])<=1e6*n[0]+1e3*n[1]+parseInt(n[2])},closeWindow:function(){this.callNative("exit")},qrScan:function(e){e=e||function(){},this.callNative("qrscan",{},function(t){e&&e(t)})},getDeviceInfo:function(e){e=e||function(){},this.callNative("deviceInfo",{},function(t){e&&e(t)})},choosePay:function(e){return(e="object"===(void 0===e?"undefined":O(e))?e:{}).success=e.hasOwnProperty("success")?e.success:function(){},e.fail=e.hasOwnProperty("fail")?e.fail:function(){},e.cancel=e.hasOwnProperty("cancel")?e.cancel:function(){},e.hasOwnProperty("tradeNo")?"string"!=typeof e.tradeNo?void A("tradeNo is not a string"):void this.callNative("pay",{tradeNo:e.tradeNo},function(t,o,n){switch(n&&this.callNative("finish",{tradeNo:t,status:o,isThird:n},function(){}),o){case"success":e.success&&e.success();break;case"timeout":e.fail&&e.fail("TIMEOUT");break;case"failed":e.fail&&e.fail("FAILED");break;case"close":e.cancel&&e.cancel()}}):void A("tradeNo is undefined")},shareConfig:function(e){function t(t){n.callNative("shareConfig",{title:e.title,shareDes:e.shareDes,url:t,thumbUrl:e.thumbUrl},function(t){"success"===t?e.success&&e.success(r):e.fail&&e.fail(t)})}function o(){return m("https://blockcity.gxb.io/api/app/config/share_domain?type=sdk").then(function(e){return e.json()}).then(function(e){return e.data.share_domain}).catch(function(e){return"https://share.8ug2.cn/tmp/"})}if((e="object"===(void 0===e?"undefined":O(e))?e:{}).success=e.hasOwnProperty("success")?e.success:function(){},e.fail=e.hasOwnProperty("fail")?e.fail:function(){},e.hasOwnProperty("title"))if("string"==typeof e.title)if(e.hasOwnProperty("shareDes"))if("string"==typeof e.shareDes)if(e.hasOwnProperty("url"))if("string"==typeof e.url)if(e.hasOwnProperty("thumbUrl"))if("string"==typeof e.thumbUrl){var n=this,r=e.url,a=setTimeout(function(){T=!1,o().then(function(e){t(e+encodeURIComponent(r))})},500);this.callNative("deviceInfo",{},function(e){clearTimeout(a);var i=JSON.parse(e),s=i.appName||"",c=i.platform,l=i.version;"blockcityglobal"===s||n.compareVersion(N.local[c].shareConfig,l)?t(r):o().then(function(e){t(e+encodeURIComponent(r))})})}else A("thumbUrl is not a string");else A("thumbUrl is undefined");else A("url is not a string");else A("url is undefined");else A("shareDes is not a string");else A("shareDes is undefined");else A("title is not a string");else A("title is undefined")},callShare:function(e){var t=this;if((e="object"===(void 0===e?"undefined":O(e))?e:{}).success=e.hasOwnProperty("success")?e.success:function(){},e.fail=e.hasOwnProperty("fail")?e.fail:function(){},e.hasOwnProperty("contentType")&&0===e.contentType){if(!e.hasOwnProperty("title"))return void A("title is undefined");if("string"!=typeof e.title)return void A("title is not a string")}else{if(!e.hasOwnProperty("title"))return void A("title is undefined");if("string"!=typeof e.title)return void A("title is not a string");if(!e.hasOwnProperty("shareDes"))return void A("shareDes is undefined");if("string"!=typeof e.shareDes)return void A("shareDes is not a string");if(!e.hasOwnProperty("url"))return void A("url is undefined");if("string"!=typeof e.url)return void A("url is not a string");if(!e.hasOwnProperty("thumbUrl"))return void A("thumbUrl is undefined");if("string"!=typeof e.thumbUrl)return void A("thumbUrl is not a string")}var o=this,n=setTimeout(function(){t.callNative("share",{contentType:e.contentType||0,sceneType:e.sceneType||0,title:e.title,shareDes:e.shareDes,url:e.url,thumbUrl:e.thumbUrl},function(t){"success"===t?e.success&&e.success(t):e.fail&&e.fail(t)})},500);this.callNative("deviceInfo",{},function(t){clearTimeout(n);var r=JSON.parse(t),a=r.appName||"",i=r.platform,s=r.version;"blockcityglobal"!==a?o.compareVersion(N.local[i].callShare,s)?o.callNative("share",{contentType:e.contentType||0,sceneType:e.sceneType||0,title:e.title,shareDes:e.shareDes,url:e.url,thumbUrl:e.thumbUrl},function(t){"success"===t?e.success&&e.success(t):e.fail&&e.fail(t)}):alert("The current version of the app is too low, please upgrade to the latest version."):o.compareVersion(N.global[i].callShare,s)?o.callNative("share",{contentType:e.contentType||0,sceneType:e.sceneType||0,title:e.title,shareDes:e.shareDes,url:e.url,thumbUrl:e.thumbUrl},function(t){"success"===t?e.success&&e.success(t):e.fail&&e.fail(t)}):alert("The current version of the app is too low, please upgrade to the latest version.")})},rotate:function(e){var t=this;(e="object"===(void 0===e?"undefined":O(e))?e:{}).hiddenNav=e.hasOwnProperty("hiddenNav")?e.hiddenNav:1,e.direction=e.hasOwnProperty("direction")?e.direction:0;var o=this,n=setTimeout(function(){t.callNative("rotate",{hiddenNav:e.hiddenNav,direction:e.direction})},500);this.callNative("deviceInfo",{},function(t){clearTimeout(n);var r=JSON.parse(t),a=r.appName||"",i=r.platform,s=r.version;"blockcityglobal"!==a?o.compareVersion(N.local[i].rotate,s)?o.callNative("rotate",{hiddenNav:e.hiddenNav,direction:e.direction}):alert("The current version of the app is too low, please upgrade to the latest version."):o.compareVersion(N.global[i].rotate,s)?o.callNative("rotate",{hiddenNav:e.hiddenNav,direction:e.direction}):alert("The current version of the app is too low, please upgrade to the latest version.")})},getSysLanguage:function(e){var t=this;e=e||function(){};var o=this,n=setTimeout(function(){t.callNative("currentLanguage",{},function(t){e&&e(t)})},500);this.callNative("deviceInfo",{},function(t){clearTimeout(n);var r=JSON.parse(t),a=r.appName||"",i=r.platform,s=r.version;"blockcityglobal"!==a?o.compareVersion(N.local[i].getSysLanguage,s)?o.callNative("currentLanguage",{},function(t){e&&e(t)}):alert("The current version of the app is too low, please upgrade to the latest version."):o.compareVersion(N.global[i].getSysLanguage,s)?o.callNative("currentLanguage",{},function(t){e&&e(t)}):alert("The current version of the app is too low, please upgrade to the latest version.")})},callAuth:function(e){var t=this;if((e="object"===(void 0===e?"undefined":O(e))?e:{}).success=e.hasOwnProperty("success")?e.success:function(){},e.fail=e.hasOwnProperty("fail")?e.fail:function(){},e.cancel=e.hasOwnProperty("cancel")?e.cancel:function(){},e.hasOwnProperty("authItem"))if("string"==typeof e.authItem){var o=this,n=setTimeout(function(){t.callNative("callContract",{v:"1.0",plugin:"auth",authItem:e.authItem},function(t){"string"==typeof t&&(t=JSON.stringify(formatJSON(t)));var o=JSON.parse(t);switch(parseInt(o.code)){case 0:e.cancel&&e.cancel(t);break;case 1:e.success&&e.success(t);break;default:e.fail&&e.fail(t)}})},500);this.callNative("deviceInfo",{},function(t){clearTimeout(n);var r=JSON.parse(t),a=r.appName||"",i=r.platform,s=r.version;"blockcityglobal"!==a?o.compareVersion(N.local[i].callContract,s)?o.compareVersion("2.0.3",s)?o.callNative("callContract",{v:"1.0",plugin:"auth",authItem:e.authItem},function(t){var o=JSON.parse(t);switch(parseInt(o.code)){case 0:e.cancel&&e.cancel(t);break;case 1:e.success&&e.success(t);break;default:e.fail&&e.fail(t)}}):"ios"===i?o.callNative("callContract",{v:"1.0",plugin:"auth",authItem:e.authItem},function(t){"string"==typeof t&&(t=JSON.stringify(formatJSON(t)));var o=JSON.parse(t);switch(parseInt(o.code)){case 0:e.cancel&&e.cancel(t);break;case 1:e.success&&e.success(t);break;default:e.fail&&e.fail(t)}}):o.callNative("callContract",{v:"1.0",plugin:"auth",authItem:e.authItem},function(t){t=(t=(t=decodeURIComponent(JSON.stringify(t))).replace('"{',"{")).replace('}"',"}");var o=JSON.parse(t);switch(parseInt(o.code)){case 0:e.cancel&&e.cancel(t);break;case 1:e.success&&e.success(t);break;default:e.fail&&e.fail(t)}}):alert("The current version of the app is too low, please upgrade to the latest version."):o.compareVersion(N.global[i].callContract,s)?o.callNative("callContract",{v:"1.0",plugin:"auth",authItem:e.authItem},function(t){var o=JSON.parse(t);switch(parseInt(o.code)){case 0:e.cancel&&e.cancel(t);break;case 1:e.success&&e.success(t);break;default:e.fail&&e.fail(t)}}):alert("The current version of the app is too low, please upgrade to the latest version.")})}else A("authItem is not a string");else A("authItem is undefined")},callContract:function(e){var t=this;if((e="object"===(void 0===e?"undefined":O(e))?e:{}).success=e.hasOwnProperty("success")?e.success:function(){},e.fail=e.hasOwnProperty("fail")?e.fail:function(){},e.cancel=e.hasOwnProperty("cancel")?e.cancel:function(){},e.hasOwnProperty("contractName"))if("string"==typeof e.contractName){if(e.hasOwnProperty("amount"))if("object"!==O(e.amount)){if(0!==e.amount)return void A("amount is not a object")}else{if(!e.amount.hasOwnProperty("amount"))return void A("amount.amount is undefined");if("number"!=typeof e.amount.amount)return void A("amount.amount is not a number");if(!e.amount.hasOwnProperty("asset_id"))return void A("amount.asset_id is undefined");if("string"!=typeof e.amount.asset_id)return void A("amount.asset_id is not a string")}else e.amount=0;if(e.hasOwnProperty("methodName"))if("string"==typeof e.methodName)if(e.hasOwnProperty("methodParams"))if("object"===O(e.methodParams)){if(e.hasOwnProperty("specifiedAccount")){if("string"!=typeof e.specifiedAccount)return void A("specifiedAccount is not a string")}else e.specifiedAccount="";var o=this,n=JSON.stringify(e.methodParams),r=JSON.stringify(e.amount),a=setTimeout(function(){var o={contract_name:e.contractName,amount:r,method_name:e.methodName,params:n,specified_account:e.specifiedAccount};e.type&&(o.type=e.type),t.callNative("callContract",o,function(t){"string"==typeof t&&(t=JSON.stringify(formatJSON(t)));var o=JSON.parse(t);switch(parseInt(o.code)){case 0:e.cancel&&e.cancel(t);break;case 1:e.success&&e.success(t);break;default:e.fail&&e.fail(decodeURIComponent(t))}})},500);this.callNative("deviceInfo",{},function(t){clearTimeout(a);var i=JSON.parse(t),s=i.appName||"",c=i.platform,l=i.version;"blockcityglobal"!==s?o.compareVersion(N.local[c].callContract,l)?o.compareVersion("2.0.3",l)?o.callNative("callContract",{contract_name:e.contractName,amount:r,method_name:e.methodName,params:n,specified_account:e.specifiedAccount},function(t){var o=JSON.parse(t);switch(parseInt(o.code)){case 0:e.cancel&&e.cancel(t);break;case 1:e.success&&e.success(t);break;default:e.fail&&e.fail(decodeURIComponent(t))}}):"ios"===c?o.callNative("callContract",{contract_name:e.contractName,amount:r,method_name:e.methodName,params:n,specified_account:e.specifiedAccount},function(t){"string"==typeof t&&(t=JSON.stringify(formatJSON(t)));var o=JSON.parse(t);switch(parseInt(o.code)){case 0:e.cancel&&e.cancel(t);break;case 1:e.success&&e.success(t);break;default:e.fail&&e.fail(decodeURIComponent(t))}}):o.callNative("callContract",{contract_name:e.contractName,amount:r,method_name:e.methodName,params:n,specified_account:e.specifiedAccount},function(t){t=(t=(t=decodeURIComponent(JSON.stringify(t))).replace('"{',"{")).replace('}"',"}");var o=JSON.parse(t);switch(parseInt(o.code)){case 0:e.cancel&&e.cancel(t);break;case 1:e.success&&e.success(t);break;default:e.fail&&e.fail(decodeURIComponent(t))}}):alert("The current version of the app is too low, please upgrade to the latest version."):o.compareVersion(N.global[c].callContract,l)?o.callNative("callContract",{contract_name:e.contractName,amount:r,method_name:e.methodName,params:n,specified_account:e.specifiedAccount},function(t){var o=JSON.parse(t);switch(parseInt(o.code)){case 0:e.cancel&&e.cancel(t);break;case 1:e.success&&e.success(t);break;default:e.fail&&e.fail(decodeURIComponent(t))}}):alert("The current version of the app is too low, please upgrade to the latest version.")})}else A("methodParams is not a object");else A("methodParams is undefined");else A("methodName is not a string");else A("methodName is undefined")}else A("contractName is not a string");else A("contractName is undefined")},checkJsApi:function(e){var t=this,o=e.jsApiList,n=void 0===o?[]:o,r=e.success,a=void 0===r?function(){}:r,i=e.fail,s=void 0===i?function(){}:i;U.then(function(e){var o={},r=(e=JSON.parse(e)).platform,i=e.version,s="blockcityglobal"===e.appName?"global":"local";try{n.forEach(function(e){o[e]=t.compareVersion(N[s][r][e],i)})}catch(e){throw e}a(o)}).catch(function(e){s(e)})}},A=function(e){console.error(JSON.stringify({errMsg:e})),alert(JSON.stringify({errMsg:e}))},U=new Promise(function(e,t){var o=3e3,n=new Date,r=setInterval(function(){var t=new Date;if(t-n>o){clearInterval(r);var a={version:"2.0.0",platform:function(){var e=navigator.userAgent||navigator.vendor||window.opera;return/windows phone/i.test(e)?"wp":/android/i.test(e)?"android":/iPad|iPhone|iPod/.test(e)&&!window.MSStream?"ios":"unknown"}()||"android",appName:"blockcity"};e(JSON.stringify(a))}else C.getDeviceInfo(function(t){clearInterval(r),e(t)})},1e3)});e.exports=C},"61iH":function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o("mvHQ"),r=o.n(n),a=o("lGGP"),i=(o("oFuF"),o("0ygB")),s=o.n(i),c={data:function(){var e=this;return{loading:!1,cur_coin_code:"USDT",cur_coin_amount:"0.00",VerificationCode:this.$t("loginPart.sendCode"),smsloading:!1,smsdisabled:!1,depositForm:{order_id:"",amount:"",coin_code:"USDT",vcode:""},balances:{usdt:0,dt:0,ones:0,just:0},depositRules:{amount:[{validator:function(t,o,n){return""==o?n(new Error(e.$t("assetScene.depositPlaceholder"))):n()},trigger:"blur"}],vcode:[{validator:function(t,o,n){e.depositForm.order_id||n(new Error(e.$t("loginPart.VerificationCodeFormatError3"))),""===o?n(new Error(e.$t("loginPart.VerificationCodePlaceHolder"))):/\d/.test(o)?6!=o.length?n(new Error(e.$t("loginPart.VerificationCodeFormatError2"))):n():n(new Error(e.$t("loginPart.VerificationCodeFormatError1")))},trigger:"blur"}]}}},watch:{"depositForm.coin_code":function(e){console.log(e);var t=e.toLowerCase();this.cur_coin_code=e.toUpperCase(),this.cur_coin_amount=this.balances[t]}},mounted:function(){var e=this.$route.params.coin_code,t=this.$route.params.coin_amount;e&&(this.cur_coin_code=e.toUpperCase(),this.depositForm.coin_code=e.toUpperCase(),this.cur_coin_amount=Number(t).toFixed(4));this.$route.query.action;this.getBalances()},methods:{deposit:function(){var e=this,t=this;this.$refs.depositForm.validate(function(o){if(!o)return!1;e.loading=!0;var n={type:"gxb",amount:e.depositForm.amount,coin_code:e.depositForm.coin_code.toLowerCase()};a.a.predeposit(n).then(function(o){0==o.code?(setTimeout(function(){var e=this;this.$confirm("确认已支付?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.paymentResult(o.data.order_id)}).catch(function(){e.paymentResult(o.data.order_id)})}.bind(e),1e3),s.a.choosePay({tradeNo:o.data.trade_no,success:function(){console.log("支付成功"),t.paymentResult(o.data.order_id)},fail:function(e){console.log("支付失败："+r()(e)),t.paymentResult(o.data.order_id)},cancel:function(){console.log("取消支付"),t.paymentResult(o.data.order_id)}})):(e.$message({message:e.$t("message."+o.msg),type:"error",center:!0}),e.loading=!1)})})},getBalances:function(){var e=this;a.a.balances().then(function(t){if(0==t.code){for(var o in t.data.coins)e.balances[o]=t.data.coins[o].balances.bqex?t.data.coins[o].balances.bqex:"0.00";console.log(e.cur_coin_code);var n=e.cur_coin_code.toLowerCase();console.log(e.balances,n),e.cur_coin_amount=Number(e.balances[n]).toFixed(4)}})},paymentResult:function(e){var t=this,o={type:"gxb",order_id:e};a.a.deposit(o).then(function(e){console.log(e,"xxxxxxx"),0==e.code?(t.loading=!1,t.$message({message:t.$t("message.deposit_success"),type:"success",center:!0}),t.depositForm.order_id="",t.depositForm.amount=""):(t.$message({message:t.$t("message."+e.msg),type:"error",center:!0}),t.loading=!1)})}}},l={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"container"},[o("div",{staticClass:"gxbalkdeposit"},[o("el-form",{ref:"depositForm",attrs:{model:e.depositForm,"label-width":"60px",rules:e.depositRules}},[o("el-form-item",{attrs:{label:this.$t("assetScene.amount"),prop:"amount"}},[o("div",[o("el-input",{staticClass:"input-with-select",attrs:{placeholder:this.$t("assetScene.depositamount")},model:{value:e.depositForm.amount,callback:function(t){e.$set(e.depositForm,"amount",t)},expression:"depositForm.amount"}},[o("el-select",{staticStyle:{width:"120px"},attrs:{slot:"append","popper-class":"input-with-select-coin",placeholder:"请选择"},slot:"append",model:{value:e.depositForm.coin_code,callback:function(t){e.$set(e.depositForm,"coin_code",t)},expression:"depositForm.coin_code"}},[o("el-option",{attrs:{label:"GXC",value:"GXC"}})],1)],1)],1)]),e._v(" "),o("el-form-item",{attrs:{"label-width":"0px",align:"center"}},[o("el-button",{staticStyle:{width:"50%"},attrs:{type:"primary",loading:e.loading},on:{click:e.deposit}},[e._v(e._s(this.$t("assetScene.deposit")))])],1)],1),e._v(" "),o("div",{staticClass:"current"},[e._v("\n      "+e._s(this.$t("assetScene.AccountBalance"))+"\n      "),o("span",[e._v(e._s(e.cur_coin_amount)+" "+e._s(e.cur_coin_code))])]),e._v(" "),o("div",{staticClass:"erc20deposit-tip"},[o("p",[e._v(e._s(this.$t("assetScene.depositGxbTips")))])])],1)])},staticRenderFns:[]};var u=o("VU/8")(c,l,!1,function(e){o("GGLA")},"data-v-5f8cd1bf",null);t.default=u.exports},GGLA:function(e,t){}});
//# sourceMappingURL=0.0c9d1cd899935f84561e.js.map